(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[166],{3399:function(s,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/slice-test/web-flux-test",function(){return n(5650)}])},5650:function(s,e,n){"use strict";n.r(e),n.d(e,{__toc:function(){return a}});var t=n(5893),o=n(2673),r=n(373),i=n(8426);n(9128);var l=n(2643);let a=[{depth:2,value:"@WebFluxTest",id:"webfluxtest"},{depth:2,value:"간단한 예제 코드",id:"간단한-예제-코드"},{depth:2,value:"@WebFluxTest 살펴보기",id:"webfluxtest-살펴보기"}];function _createMdxContent(s){let e=Object.assign({h2:"h2",p:"p",code:"code",pre:"pre",span:"span",ul:"ul",li:"li"},(0,l.a)(),s.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{id:"webfluxtest",children:"@WebFluxTest"}),"\n",(0,t.jsxs)(e.p,{children:["Controller 는 주어진 API 에 대해 비즈니스 요구사항에 맞는 요청, 응답을 해야 합니다. 예를 들어 어떤 데이터를 조회하려고 하는데 조회하려는 사용자가 권한이 없을 경우 응답코드를 401 로 내려줄수도 있고, 내부에서 정한 응답코드 형식이 따로 있어서 4001 과 같은 코드로 내려주는 경우도 있습니다. Controller 에서는 이렇게 요청,응답의 구조에 대한 형식, 파라미터 검증 등과 같은 역할을 수행합니다.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(e.p,{children:["이 외에도 예외처리를 하는 경우도 있습니다. Controller 는 Spring 뿐만 아니라 flask, django 같은 다른 언어의 대중적인 프레임워크에서도 제공합니다. 보통 Spring 에서는 대부분 ControllerAdvice 라는 기능을 통해서 예외 발생시, Exception 에 대해 어떤 Response 내보낼지를 정의합니다.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(e.p,{children:["이렇게 요청, 응답, 예외 처리만 하는 것 외에도 Netty, Tomcat 컨테이너 위에서 잘 구동되는지도 확인을 해야 합니다. 따라서 단순한 요청,응답,예외 처리 외에도 WAS 레벨의 테스트까지 수행합니다.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"@WebFluxTest"})," 는 이렇게 요청,응답,예외 처리와 Netty, Tomcat 컨테이너 위에서의 정상동작 여부를 테스트할 때 사용합니다. ",(0,t.jsx)(e.code,{children:"@WebFluxTest"})," 를 이용해서 테스트 시 접근하는 Controller 계층, 즉, 프리젠테이션 계층을 테스트 할 때에는 내부 비즈니스 로직에 해당하는 Service 로직의 컴포넌트들은 될수 있으면 모두 가짜객체인 Mock 객체를 기반으로 테스트를 진행하는 것이 권장됩니다.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(e.h2,{id:"간단한-예제-코드",children:"간단한 예제 코드"}),"\n",(0,t.jsx)(e.pre,{"data-language":"java","data-theme":"default",children:(0,t.jsxs)(e.code,{"data-language":"java","data-theme":"default",children:[(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"package"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"reactive_test_example"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"slice_test"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"web_flux_test"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,t.jsx)(e.span,{className:"line",children:" "}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"reactive_test_example"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"GlobalHealthCheckTestConfiguration"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"reactive_test_example"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"healthcheck"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"HealthcheckController"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"io"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"chagchagchag"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"example"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"reactive_test_example"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"healthcheck"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"HealthcheckService"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"junit"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"jupiter"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"api"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"Test"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"mockito"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"Mockito"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"beans"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"factory"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"annotation"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"Autowired"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"boot"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"test"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"autoconfigure"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"web"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"reactive"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"WebFluxTest"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"boot"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"test"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"mock"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"mockito"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"MockBean"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"test"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"context"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"ContextConfiguration"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"org"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"springframework"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"test"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"web"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"reactive"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"server"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"WebTestClient"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,t.jsx)(e.span,{className:"line",children:" "}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"ContextConfiguration"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    classes "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"GlobalHealthCheckTestConfiguration"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"class"})]}),"\n",(0,t.jsx)(e.span,{className:"line",children:(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"})}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"WebFluxTest"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(controllers "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"HealthcheckController"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"class"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"WebfluxTest_HealthcheckController"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"MockBean"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"HealthcheckService"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" healthcheckService;"})]}),"\n",(0,t.jsx)(e.span,{className:"line",children:" "}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"Autowired"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"WebTestClient"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" webTestClient;"})]}),"\n",(0,t.jsx)(e.span,{className:"line",children:" "}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  @"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"Test"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"void"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"TEST_HEALTHCHECK_API_OK"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(){"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"var"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" message "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"OK"'}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,t.jsx)(e.span,{className:"line",children:" "}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Mockito"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"when"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"healthcheckService"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"ok"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"())"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"thenReturn"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(message);"})]}),"\n",(0,t.jsx)(e.span,{className:"line",children:" "}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"webTestClient"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"get"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"uri"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/healthcheck/ready"'}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"exchange"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"expectStatus"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"()"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"isOk"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"()"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"expectBody"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"String"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"class"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"isEqualTo"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(message);"})]}),"\n",(0,t.jsx)(e.span,{className:"line",children:(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,t.jsx)(e.span,{className:"line",children:(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(e.h2,{id:"webfluxtest-살펴보기",children:"@WebFluxTest 살펴보기"}),"\n",(0,t.jsx)(e.p,{children:"@WebFluxTest 애노테이션은 아래와 같이 정의되어 있습니다."}),"\n",(0,t.jsx)(e.pre,{"data-language":"java","data-theme":"default",children:(0,t.jsxs)(e.code,{"data-language":"java","data-theme":"default",children:[(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"Target"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"({"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"ElementType"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"TYPE"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"})"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"Retention"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"RetentionPolicy"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"RUNTIME"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"Documented"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"Inherited"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"BootstrapWith"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"WebFluxTestContextBootstrapper"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"class"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"ExtendWith"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"({"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"SpringExtension"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"class"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"})"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"OverrideAutoConfiguration"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  enabled "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"false"})]}),"\n",(0,t.jsx)(e.span,{className:"line",children:(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"})}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"TypeExcludeFilters"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"({"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"WebFluxTypeExcludeFilter"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:"."}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"class"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"})"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"AutoConfigureCache"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"AutoConfigureJson"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"AutoConfigureWebFlux"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"AutoConfigureWebTestClient"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"@"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"ImportAutoConfiguration"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"public"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" @"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"WebFluxTest"}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,t.jsxs)(e.span,{className:"line",children:[(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,t.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"// ..."})]}),"\n",(0,t.jsx)(e.span,{className:"line",children:(0,t.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,t.jsxs)(e.p,{children:["Spring Boot 는 Spring Framework 에 비해서 필요한 기능들에 대해서 어느 정도의 최적화된 자동설정을 제공합니다. @WebFluxTest 애노테이션 역시 ",(0,t.jsx)(e.code,{children:"@Auto-"})," 로 시작하는 애노테이션을 통해 어느 정도의 최적화된 자동설정을 제공합니다."]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"@AutoConfigureCache"}),"\n",(0,t.jsx)(e.li,{children:"@AutoConfigureJson"}),"\n",(0,t.jsx)(e.li,{children:"@AutoConfigureWebFlux"}),"\n",(0,t.jsx)(e.li,{children:"@AutoConfigureWebTestClient"}),"\n",(0,t.jsx)(e.li,{children:"@ImportAutoConfiguration"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["주로 프레젠테이션 계층의 애노테이션만 있다는 것을 확인 가능합니다. WebFluxTest 는 이렇게 프레젠테이션 계층의 애노테이션만 활용해서 웹 계층의 테스트를 최적으로 수행할 수 있도록 구성되어 있습니다.",(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(e.p,{children:["위의 코드를 보면 ",(0,t.jsx)(e.code,{children:"@TypeExcludeFilters({WebFluxTypeExcludeFilter.class})"})," 가 있습니다. 이것은 테스트 코드 내에서 Exclude 를 하는 필터가 있을 경우 import 하지 않도록 하는 설정입니다.",(0,t.jsx)("br",{})]})]})}let c={MDXContent:function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,l.a)(),s.components);return e?(0,t.jsx)(e,{...s,children:(0,t.jsx)(_createMdxContent,{...s})}):_createMdxContent(s)},pageOpts:{filePath:"pages/slice-test/web-flux-test.mdx",route:"/slice-test/web-flux-test",timestamp:171385088e4,pageMap:[{kind:"MdxPage",name:"index",route:"/"},{kind:"MdxPage",name:"integration-test",route:"/integration-test"},{kind:"MdxPage",name:"mockito-test",route:"/mockito-test"},{kind:"Folder",name:"reactor-test",route:"/reactor-test",children:[{kind:"MdxPage",name:"if-without-stepverifier",route:"/reactor-test/if-without-stepverifier"},{kind:"MdxPage",name:"stepverifier-test",route:"/reactor-test/stepverifier-test"},{kind:"Meta",data:{"if-without-stepverifier":"StepVerifier 없이 테스트할 경우","stepverifier-test":"StepVerifier 테스트"}}]},{kind:"MdxPage",name:"reactor-test",route:"/reactor-test"},{kind:"Folder",name:"slice-test",route:"/slice-test",children:[{kind:"MdxPage",name:"data-mongo-test",route:"/slice-test/data-mongo-test"},{kind:"MdxPage",name:"data-r2dbc-test",route:"/slice-test/data-r2dbc-test"},{kind:"MdxPage",name:"web-flux-test",route:"/slice-test/web-flux-test"},{kind:"MdxPage",name:"web-test-client",route:"/slice-test/web-test-client"},{kind:"MdxPage",name:"what-is-context-configuration",route:"/slice-test/what-is-context-configuration"},{kind:"MdxPage",name:"what-is-mockbean",route:"/slice-test/what-is-mockbean"},{kind:"MdxPage",name:"what-is-slice-test",route:"/slice-test/what-is-slice-test"},{kind:"Meta",data:{"what-is-slice-test":"슬라이스 테스트란?","what-is-context-configuration":"@ContextConfiguration 이란?","what-is-mockbean":"@MockBean 이란?","web-flux-test":"@WebFluxTest","web-test-client":"WebTestClient 로 API 검증","data-r2dbc-test":"@DataR2dbcTest","data-mongo-test":"@DataMongoTest"}}]},{kind:"MdxPage",name:"slice-test",route:"/slice-test"},{kind:"Folder",name:"test-tips",route:"/test-tips",children:[{kind:"MdxPage",name:"private-method-test",route:"/test-tips/private-method-test"},{kind:"MdxPage",name:"test-fixtures",route:"/test-tips/test-fixtures"},{kind:"MdxPage",name:"what-is-test-double",route:"/test-tips/what-is-test-double"},{kind:"Meta",data:{"private-method-test":"Private 메서드 테스트","test-fixtures":"테스트 더미 객체 생성","what-is-test-double":"Test Double 이 뭔가요?"}}]},{kind:"MdxPage",name:"test-tips",route:"/test-tips"},{kind:"Folder",name:"unit-test",route:"/unit-test",children:[{kind:"MdxPage",name:"assertj-assertions",route:"/unit-test/assertj-assertions"},{kind:"MdxPage",name:"assumption",route:"/unit-test/assumption"},{kind:"MdxPage",name:"junit-jupiter",route:"/unit-test/junit-jupiter"},{kind:"MdxPage",name:"jupiter-assertions",route:"/unit-test/jupiter-assertions"},{kind:"MdxPage",name:"test-libraries",route:"/unit-test/test-libraries"},{kind:"MdxPage",name:"what-is-unit-test",route:"/unit-test/what-is-unit-test"},{kind:"Meta",data:{"what-is-unit-test":"유닛 테스트의 개념, 원칙, 목적","junit-jupiter":"JUnit Jupiter","jupiter-assertions":"Assrtions (Junit Jupiter)","assertj-assertions":"Assertions (Assertj)",assumption:"Assumption (Junit Jupiter)","test-libraries":"Test Libraries"}}]},{kind:"MdxPage",name:"unit-test",route:"/unit-test"},{kind:"MdxPage",name:"what-is-software-test",route:"/what-is-software-test"},{kind:"Meta",data:{index:"Introduction","what-is-software-test":"소프트웨어 테스트란?","unit-test":"유닛 테스트","mockito-test":"Mockito 테스트","reactor-test":"Reactor 테스트","slice-test":"슬라이스 테스트","integration-test":"통합 테스트",contact:{title:"Contact ↗",type:"page",href:"-",newWindow:!0},"test-tips":"Test Tips"}}],flexsearch:{codeblocks:!0},title:"Web Flux Test",headings:a},pageNextRoute:"/slice-test/web-flux-test",nextraLayout:r.ZP,themeConfig:i.Z};e.default=(0,o.j)(c)},8426:function(s,e,n){"use strict";var t=n(5893);n(7294);let o={logo:(0,t.jsx)("span",{children:"Docs Spring Reactive Test"}),project:{link:"https://github.com/chagchagchag/docs-spring-reactive-test"},docsRepositoryBase:"https://github.com/chagchagchag/docs-spring-reactive-test",footer:{text:"Nextra Docs Template"}};e.Z=o},5789:function(){}},function(s){s.O(0,[774,796,888,179],function(){return s(s.s=3399)}),_N_E=s.O()}]);